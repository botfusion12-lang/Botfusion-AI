<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>BotFusion UI</title>

<style>
/* (same styles as before ‚Äî unchanged) */

:root{
  --bg-dark:#0d0d12;
  --panel-dark:#14141c;
  --text:#ffffff;
  --text-muted:#a9a9b3;
  --accent:#10a37f;

  --bg-light:#f7f7f8;
  --panel-light:#ffffff;
  --text-light:#1c1c21;
  --text-muted-light:#6a6a75;
}

body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Arial;
  background:var(--bg-dark);
  color:var(--text);
  display:flex;
  height:100vh;
}

.sidebar{
  width:260px;
  background:var(--panel-dark);
  border-right:1px solid #2a2a35;
  padding:14px;
  box-sizing:border-box;
  position:fixed;
  top:0;
  bottom:0;
  left:-270px;
  transition:0.25s ease;
  z-index:10;
}
.sidebar.open{ left:0; }

.nav-item{
  padding:10px 12px;
  border-radius:8px;
  margin-bottom:6px;
  cursor:pointer;
  display:flex;
  align-items:center;
  gap:10px;
  color:var(--text-muted);
}
.nav-item:hover,
.nav-item.active{ background:#1f1f29; color:#fff; }

.header{
  height:58px;
  display:flex;
  align-items:center;
  gap:10px;
  padding:0 14px;
  border-bottom:1px solid #24242f;
  background:var(--panel-dark);
  position:sticky;
  top:0;
  z-index:5;
}

.hamburger{ width:32px;height:32px;border-radius:8px;border:1px solid #2f2f3a;
  display:flex;flex-direction:column;justify-content:center;gap:5px;padding:6px;cursor:pointer;}
.hamburger span{background:#fff;height:2px;width:100%;}

.main{ flex:1; display:flex; flex-direction:column; }
.page{ display:none; padding:16px; }
.page.active{ display:block; }

.chat-window{ flex:1; display:flex; flex-direction:column; }
.messages{ flex:1; overflow-y:auto; padding:14px; }

.message{ margin-bottom:12px; padding:10px 12px; border-radius:10px; max-width:75%; }
.user{ background:#1f2937; align-self:flex-end; }
.bot{ background:#161a23; border:1px solid #262b37; }

.typing{ display:none; margin-bottom:10px; font-size:13px; color:var(--text-muted); }

.input-row{ border-top:1px solid #262631; padding:10px; display:flex; gap:10px; }
.input-row input{ flex:1; padding:10px 12px;border-radius:10px;border:1px solid #2a2a35;background:#0f0f15;color:#fff;}
button{ border-radius:10px;border:1px solid #2a2a35;background:#1e1e28;color:#fff;padding:10px 14px;cursor:pointer; }

.settings-group{ margin-bottom:18px; }
.toggle{ padding:8px 10px;border:1px solid #2a2a35;border-radius:8px;cursor:pointer; }

/* profile box */
.profile-card{
  border:1px solid #2a2a35;
  border-radius:10px;
  padding:14px;
  max-width:340px;
}

.profile-card img{
  width:70px;
  height:70px;
  border-radius:50%;
  margin-bottom:10px;
}

/* light mode overrides */
body.light{ background:var(--bg-light); color:var(--text-light); }
body.light .sidebar{ background:var(--panel-light); border-right:1px solid #ececef; }
body.light .header{ background:var(--panel-light); border-color:#ececef; }
body.light .nav-item:hover{ background:#f0f0f2; color:#000;}
body.light .messages .user{ background:#e8e8ff;}
body.light .messages .bot{ background:#f4f4f7; border:1px solid #e0e0e4;}
body.light .input-row input{ background:#fff; color:#000;}
body.light .toggle{ border-color:#d9d9de; }
</style>
</head>

<body>

<!-- SIDEBAR -->
<div class="sidebar" id="sidebar">
  <h2>BotFusion</h2>

  <div class="nav-item active" data-page="chat">üó®Ô∏è New Chat</div>
  <div class="nav-item" data-page="profile">üë§ Profile</div>
  <div class="nav-item" data-page="settings">‚öôÔ∏è Settings</div>
  <div class="nav-item" data-page="about">‚ÑπÔ∏è About</div>
</div>

<!-- MAIN -->
<div class="main">

  <div class="header">
    <div class="hamburger" id="hamburger"><span></span><span></span><span></span></div>
    <strong id="pageTitle">New Chat</strong>
  </div>

  <!-- CHAT -->
  <div class="page active" id="chat">
    <div class="chat-window">
      <div class="messages" id="messages"></div>
      <div class="typing" id="typing">Bot is typing‚Ä¶</div>
      <div class="input-row">
        <input id="userInput" placeholder="Type a message..." />
        <button id="sendBtn">Send</button>
      </div>
    </div>
  </div>

  <!-- PROFILE -->
  <div class="page" id="profile">
    <h3>Your Profile</h3>

    <div class="profile-card" id="profileCard">
      <p>You are not logged in.</p>
      <button id="loginBtn">Sign in with Google</button>
    </div>

    <button id="logoutBtn" style="display:none;margin-top:10px;">Logout</button>
  </div>

  <!-- SETTINGS -->
  <div class="page" id="settings">
    <h3>Settings</h3>

    <div class="settings-group">
      <strong>Theme</strong>
      <div class="toggle" id="themeToggle">Switch theme</div>
    </div>

    <div class="settings-group">
      <strong>Language</strong>
      <p>(Languages coming soon)</p>
    </div>
  </div>

  <!-- ABOUT -->
  <div class="page" id="about">
    <h3>About BotFusion</h3>
    <p>Simple chat interface inspired by modern AI apps.</p>
    <p>License: MIT</p>
  </div>

</div>

<!-- FIREBASE SDK -->
<script type="module">
// Firebase SDK
import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-app.js";
import { getAuth, GoogleAuthProvider, signInWithPopup, signOut, onAuthStateChanged }
  from "https://www.gstatic.com/firebasejs/11.0.2/firebase-auth.js";

// ================================
// üî¥ REPLACE WITH YOUR OWN CONFIG
// ================================
const firebaseConfig = {
  apiKey: "AIzaSyDA62eN5MEjX9Z-gw6w9UuR8L-Ke_6J7eE",
  authDomain: "botfusion-ai-bd6d0.firebaseapp.com",
  projectId: "botfusion-ai-bd6d0",
  storageBucket: "botfusion-ai-bd6d0.firebasestorage.app",
  messagingSenderId: "730477136598",
  appId: "1:730477136598:web:c6b4e0d495744d12079777",
  measurementId: "G-53FTWNQB8X"
};
// =================================

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const provider = new GoogleAuthProvider();

// UI references
const loginBtn = document.getElementById("loginBtn");
const logoutBtn = document.getElementById("logoutBtn");
const profileCard = document.getElementById("profileCard");

// Login
loginBtn.onclick = async () => {
  try {
    await signInWithPopup(auth, provider);
  } catch (e) {
    alert("Login failed");
    console.error(e);
  }
};

// Logout
logoutBtn.onclick = () => signOut(auth);

// Update UI when login state changes
onAuthStateChanged(auth, (user) => {
  if (user) {
    profileCard.innerHTML = `
      <img src="${user.photoURL}">
      <p><strong>${user.displayName}</strong></p>
      <p>${user.email}</p>
    `;
    logoutBtn.style.display = "inline-block";
  } else {
    profileCard.innerHTML = `
      <p>You are not logged in.</p>
      <button id="loginBtn">Sign in with Google</button>
    `;
    logoutBtn.style.display = "none";
    document.getElementById("loginBtn").onclick = loginBtn.onclick;
  }
});
</script>

<script>
// sidebar + navigation
const sidebar = document.getElementById("sidebar");
const hamburger = document.getElementById("hamburger");
const pages = document.querySelectorAll(".page");
const navItems = document.querySelectorAll(".nav-item");
const pageTitle = document.getElementById("pageTitle");

hamburger.onclick = ()=> sidebar.classList.toggle("open");

navItems.forEach(item=>{
  item.onclick = ()=>{
    navItems.forEach(n=>n.classList.remove("active"));
    item.classList.add("active");
    pages.forEach(p=>p.classList.remove("active"));
    document.getElementById(item.dataset.page).classList.add("active");
    pageTitle.textContent = item.textContent.trim();
    sidebar.classList.remove("open");
  };
});

// chat demo
const messages=document.getElementById("messages");
const typing=document.getElementById("typing");
const input=document.getElementById("userInput");
const sendBtn=document.getElementById("sendBtn");

function addMessage(text,who){
  const div=document.createElement("div");
  div.className="message "+who;
  div.textContent=text;
  messages.appendChild(div);
  messages.scrollTop=messages.scrollHeight;
}

sendBtn.onclick=()=>{
  const text=input.value.trim();
  if(!text) return;
  addMessage(text,"user");
  input.value="";
  typing.style.display="block";
  setTimeout(()=>{
    typing.style.display="none";
    addMessage("Sample reply (backend coming soon).","bot");
  },1200);
};

// theme switch
document.getElementById("themeToggle").onclick = ()=>{
  document.body.classList.toggle("light");
};
</script>

</body>
</html>
