<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>BotFusion</title>

<style>
:root{
  --bg:#0f1116;
  --panel:#161a22;
  --border:#222834;
  --text:#e7e7ec;
  --button:#2b59ff;
}

.light{
  --bg:#f7f7fb;
  --panel:#ffffff;
  --border:#dcdde3;
  --text:#0c0d12;
  --button:#2b59ff;
}

*{box-sizing:border-box;font-family:system-ui,Arial}
body{margin:0;background:var(--bg);color:var(--text)}

.header{
  height:60px;display:flex;align-items:center;justify-content:space-between;
  padding:0 14px;border-bottom:1px solid var(--border);background:var(--panel);
}
.hamburger{width:34px;height:24px;display:flex;flex-direction:column;justify-content:space-between;cursor:pointer}
.hamburger span{height:4px;border-radius:3px;background:var(--text)}

.sidebar{
  position:fixed;top:0;left:-260px;width:260px;height:100%;
  background:var(--panel);border-right:1px solid var(--border);
  transition:.25s;padding:12px;z-index:5;
}
.sidebar.open{left:0}
.menu-btn{padding:14px;border-radius:10px;margin:8px 0;background:#0f1116;border:1px solid var(--border);cursor:pointer}
.page{display:none;height:calc(100vh - 120px);overflow-y:auto;padding:14px}
.page.active{display:block}
.chat{height:calc(100vh - 120px);overflow-y:auto;padding:14px}

.footer{
  height:60px;display:flex;gap:8px;padding:8px;
  border-top:1px solid var(--border);background:var(--panel);
}
.footer input{
  flex:1;padding:12px;border-radius:10px;border:1px solid var(--border);
  background:transparent;color:var(--text)
}
.footer button{padding:10px 18px;border-radius:10px;background:var(--button);border:none;color:#fff}
.card{background:var(--panel);border:1px solid var(--border);padding:14px;border-radius:10px;margin-bottom:10px}
</style>
</head>

<body>

<!-- SIDEBAR -->
<div class="sidebar" id="sidebar">
  <h3>Menu</h3>
  <div class="menu-btn" onclick="openPage('chat')">New Chat</div>
  <div class="menu-btn" onclick="openPage('account')">Account</div>
  <div class="menu-btn" onclick="openPage('settings')">Settings</div>
  <div class="menu-btn" onclick="logout()">Logout</div>
</div>

<!-- HEADER -->
<div class="header">
  <div class="hamburger" onclick="toggleSidebar()">
    <span></span><span></span><span></span>
  </div>

  <h3>BotFusion</h3>

  <div>
    <button onclick="toggleTheme()">Theme</button>
    <button onclick="login()">Login</button>
  </div>
</div>

<!-- CHAT -->
<div class="page active" id="chat">
  <div class="chat" id="chatBox"></div>
</div>

<!-- ACCOUNT -->
<div class="page" id="account">
  <div class="card">
    <h3>Account</h3>
    <p id="accountInfo">Not logged in</p>
    <button onclick="login()">Login with Google</button>
  </div>
</div>

<!-- SETTINGS -->
<div class="page" id="settings">
  <div class="card">
    <h3>Theme</h3>
    <button onclick="toggleTheme()">Switch Theme</button>
  </div>

  <div class="card">
    <h3>Language</h3>
    <select id="langSelect" onchange="changeLang()">
      <option value="en">English</option>
      <option value="hi">Hindi</option>
      <option value="mr">Marathi</option>
    </select>
  </div>
</div>

<!-- FOOTER -->
<div class="footer">
  <input id="msgInput" placeholder="Type your message..." />
  <button onclick="sendMessage()">Send</button>
</div>

<!-- ðŸ”¥ FIREBASE -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
import { getAuth, GoogleAuthProvider, signInWithPopup, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js";

// â›” REPLACE WITH YOUR VALUES from Firebase Console
const firebaseConfig = {
  apiKey: "AIzaSyDA62eN5MEjX9Z-gw6w9UuR8L-Ke_6J7eE",
  authDomain: "botfusion-ai-bd6d0.firebaseapp.com",
  projectId: "botfusion-ai-bd6d0",
  storageBucket: "botfusion-ai-bd6d0.firebasestorage.app",
  messagingSenderId: "730477136598",
  appId: "1:730477136598:web:c6b4e0d495744d12079777",
  measurementId: "G-53FTWNQB8X"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const provider = new GoogleAuthProvider();

// UI HELPERS (not Firebase)
window.toggleSidebar = function(){
  document.getElementById("sidebar").classList.toggle("open");
}

window.openPage = function(id){
  document.querySelectorAll(".page").forEach(p=>p.classList.remove("active"));
  document.getElementById(id).classList.add("active");
  toggleSidebar();
}

window.toggleTheme = function(){
  document.body.classList.toggle("light");
}

window.changeLang = function(){
  alert("Language changed: " + document.getElementById("langSelect").value);
}

window.sendMessage = function(){
  const chat = document.getElementById("chatBox");
  const input = document.getElementById("msgInput");
  if(!input.value.trim()) return;

  chat.innerHTML += `<div class="card">${input.value}</div>`;
  input.value = "";

  chat.innerHTML += `<div id="typing" class="card">Typingâ€¦</div>`;
  setTimeout(()=>{
    document.getElementById("typing")?.remove();
    chat.innerHTML += `<div class="card">Bot reply here</div>`;
  },1200);
}

// LOGIN
window.login = function(){
  await signInWithRedirect(auth, provider);.catch(err=>alert(err.message));
  import { getRedirectResult } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js";

getRedirectResult(auth).then(result => {
  if (result && result.user) {
    document.getElementById("userName").innerText =
      result.user.displayName + " (" + result.user.email + ")";
  }
}).catch(console.error);
}

window.logout = function(){
  signOut(auth);
}

// WATCH LOGIN STATE
onAuthStateChanged(auth, user=>{
  const info = document.getElementById("accountInfo");
  if(user){
    info.innerText = `Logged in as: ${user.displayName}`;
  } else {
    info.innerText = "Not logged in";
  }
});
</script>
</body>
</html>
