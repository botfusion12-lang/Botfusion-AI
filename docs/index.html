<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Botfusion AI</title>

<style>
/* ---------- GLOBAL ---------- */
:root {
  --bg-color: #2a2a2a;
  --header-color: #1f1f1f;
  --card-color: #1f1f1f;
  --sidebar-color: #111;
  --sidebar-btn-color: #2a2a2a;
  --sidebar-btn-hover: #3a3a3a;
  --text-color: #fff;
}
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: var(--bg-color);
  color: var(--text-color);
  overflow-x: hidden;
}

/* ---------- HEADER ---------- */
.header {
  display: flex;
  align-items: center;
  padding: 12px 16px;
  background: var(--header-color);
}
.hamburger {
  font-size: 24px;
  cursor: pointer;
  margin-right: 12px;
}

/* ---------- SIDEBAR ---------- */
.sidebar {
  position: fixed;
  top: 0;
  left: -280px;
  width: 280px;
  height: 100vh;
  background: var(--sidebar-color);
  transition: 0.3s;
  padding: 16px;
  overflow-y: auto;
  z-index: 1000;
}
.sidebar.open {
  left: 0;
}
.sidebar-close {
  cursor: pointer;
  text-align: right;
  font-size: 18px;
  margin-bottom: 10px;
}
.sidebar button {
  width: 100%;
  padding: 10px;
  margin: 6px 0;
  background: var(--sidebar-btn-color);
  color: var(--text-color);
  border: none;
  border-radius: 6px;
  cursor: pointer;
}
.sidebar button:hover {
  background: var(--sidebar-btn-hover);
}

/* ---------- HOME CARDS ---------- */
.home-cards {
  padding: 20px;
  transition: margin-left 0.3s;
}
.card {
  background: var(--card-color);
  padding: 18px;
  border-radius: 10px;
  margin-bottom: 10px;
}

/* ---------- PROFILE ---------- */
#profile-section, #account-section, #settings-section {
  display: none;
  padding: 20px;
}
#profile-info img {
  width: 75px;
  height: 75px;
  border-radius: 50%;
  margin-bottom: 10px;
  object-fit: cover;
}

/* ---------- CHAT ---------- */
.chat-container {
  display: flex;
  flex-direction: column;
  height: calc(100vh - 60px);
}
#chat-box {
  flex: 1;
  padding: 10px;
  overflow-y: auto;
}
#input-container {
  display: flex;
  padding: 10px;
  background: var(--header-color);
}
#userInput {
  flex: 1;
  padding: 8px;
  border-radius: 6px;
  border: none;
}
#sendBtn {
  padding: 8px 12px;
  margin-left: 8px;
  border-radius: 6px;
  border: none;
  background: var(--sidebar-btn-color);
  color: var(--text-color);
  cursor: pointer;
}

/* ---------- THEME SWITCH ---------- */
.theme-btn {
  display: inline-block;
  margin: 5px;
  padding: 6px 10px;
  border-radius: 4px;
  cursor: pointer;
  background: var(--sidebar-btn-color);
  color: var(--text-color);
}
</style>
</head>

<body>

<!-- HEADER -->
<div class="header">
  <div class="hamburger" onclick="toggleSidebar()">‚ò∞</div>
  <h2>Botfusion AI</h2>
</div>

<!-- SIDEBAR -->
<div id="sidebar" class="sidebar">
  <div class="sidebar-close" onclick="toggleSidebar()">‚úñ</div>
  <button onclick="showHome()">üè† Home</button>
  <button onclick="startChat()">üí¨ Start Chatting</button>
  <button onclick="showProfile()">üë§ View Profile</button>
  <button onclick="manageAccount()">‚öô Manage Account</button>
  <button onclick="openSettings()">üõ† Settings</button>
  <hr>
  <button id="loginBtn" onclick="googleLogin()">üîë Login with Google</button>
  <button id="logoutBtn" onclick="logout()" style="display:none;">üö™ Logout</button>
</div>

<!-- HOME -->
<div id="home" class="home-cards">
  <div class="card">‚ú® Start chatting smarter</div>
  <div class="card">ü§ñ AI help whenever you need</div>
  <div class="card">‚ö° Fast, modern experience</div>
</div>

<!-- PROFILE -->
<div id="profile-section">
  <h3>Your Profile</h3>
  <div id="profile-info"></div>
</div>

<!-- ACCOUNT -->
<div id="account-section">
  <h3>Manage Account</h3>
  <p>Edit your details (coming soon)</p>
</div>

<!-- SETTINGS -->
<div id="settings-section">
  <h3>Settings</h3>
  <p>Theme:</p>
  <div>
    <span class="theme-btn" onclick="setTheme('#2a2a2a')">Dark Grey</span>
    <span class="theme-btn" onclick="setTheme('#ffffff', '#000')">Light</span>
    <span class="theme-btn" onclick="setTheme('#1f1f1f')">Dark</span>
    <span class="theme-btn" onclick="setTheme('#0a0a0a')">Black</span>
    <span class="theme-btn" onclick="setTheme('#3a3a3a')">Grey</span>
  </div>
  <p>Language:</p>
  <select id="langSelect" onchange="translateUI(this.value)">
    <option value="en" selected>English</option>
    <option value="hi">Hindi</option>
    <option value="mr">Marathi</option>
    <option value="es">Spanish</option>
  </select>
</div>

<!-- CHAT -->
<div class="chat-container" id="chat-container" style="display:none;">
  <div id="chat-box"></div>
  <div id="input-container">
    <input type="text" id="userInput" placeholder="Type your message...">
    <button id="sendBtn" onclick="sendMessage()">Send</button>
  </div>
</div>

<!-- FIREBASE -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
import { getAuth, GoogleAuthProvider, signInWithPopup, signOut, onAuthStateChanged }
from "https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js";

/* ---------- FIREBASE CONFIG ---------- */
const firebaseConfig = {
  apiKey: "AIzaSyDA62eN5MEjX9Z-gw6w9UuR8L-Ke_6J7eE",
  authDomain: "botfusion-ai-bd6d0.firebaseapp.com",
  projectId: "botfusion-ai-bd6d0",
  storageBucket: "botfusion-ai-bd6d0.firebasestorage.app",
  messagingSenderId: "730477136598",
  appId: "1:730477136598:web:c6b4e0d495744d12079777",
  measurementId: "G-53FTWNQB8X"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const provider = new GoogleAuthProvider();

/* ---------- ELEMENTS ---------- */
const sidebar = document.getElementById("sidebar");
const home = document.getElementById("home");
const profileSection = document.getElementById("profile-section");
const accountSection = document.getElementById("account-section");
const settingsSection = document.getElementById("settings-section");
const profileInfo = document.getElementById("profile-info");
const loginBtn = document.getElementById("loginBtn");
const logoutBtn = document.getElementById("logoutBtn");
const chatContainer = document.getElementById("chat-container");
const chatBox = document.getElementById("chat-box");
const userInput = document.getElementById("userInput");

/* ---------- UI CONTROLS ---------- */
window.toggleSidebar = () => sidebar.classList.toggle("open");
window.showHome = () => {
  home.style.display = "block";
  profileSection.style.display = "none";
  accountSection.style.display = "none";
  settingsSection.style.display = "none";
  chatContainer.style.display = "none";
};
window.showProfile = () => {
  home.style.display = "none";
  profileSection.style.display = "block";
  accountSection.style.display = "none";
  settingsSection.style.display = "none";
  chatContainer.style.display = "none";
};
window.manageAccount = () => {
  home.style.display = "none";
  profileSection.style.display = "none";
  accountSection.style.display = "block";
  settingsSection.style.display = "none";
  chatContainer.style.display = "none";
};
window.openSettings = () => {
  home.style.display = "none";
  profileSection.style.display = "none";
  accountSection.style.display = "none";
  settingsSection.style.display = "block";
  chatContainer.style.display = "none";
};
window.startChat = () => {
  home.style.display = "none";
  profileSection.style.display = "none";
  accountSection.style.display = "none";
  settingsSection.style.display = "none";
  chatContainer.style.display = "flex";
};

/* ---------- GOOGLE LOGIN ---------- */
window.googleLogin = async () => {
  try {
    await signInWithPopup(auth, provider);
  } catch (err) {
    alert(err.message);
  }
};
window.logout = async () => await signOut(auth);

/* ---------- LOGIN STATE ---------- */
onAuthStateChanged(auth, (user) => {
  if (user) {
    loginBtn.style.display = "none";
    logoutBtn.style.display = "block";
    profileInfo.innerHTML = `
      <img src="${user.photoURL || ''}">
      <p><b>${user.displayName}</b></p>
      <p>${user.email}</p>
    `;
  } else {
    loginBtn.style.display = "block";
    logoutBtn.style.display = "none";
    profileInfo.innerHTML = '';
  }
});

/* ---------- CHAT FUNCTIONS ---------- */
window.sendMessage = async () => {
  const message = userInput.value.trim();
  if (!message) return;
  const msgDiv = document.createElement('div');
  msgDiv.textContent = `You: ${message}`;
  chatBox.appendChild(msgDiv);
  userInput.value = '';
  chatBox.scrollTop = chatBox.scrollHeight;

  // Example: Replace with your backend call
  const replyDiv = document.createElement('div');
  replyDiv.textContent = `Bot: This is a sample reply`;
  chatBox.appendChild(replyDiv);
  chatBox.scrollTop = chatBox.scrollHeight;
};

/* ---------- THEME & LANGUAGE ---------- */
window.setTheme = (bg, text='#fff') => {
  document.documentElement.style.setProperty('--bg-color', bg);
  document.documentElement.style.setProperty('--text-color', text);
};

window.translateUI = (lang) => {
  alert('UI translation to ' + lang + ' coming soon!');
};
</script>

</body>
</html>
