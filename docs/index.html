<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>BotFusion AI</title>
<style>
/* ===== RESET ===== */
*{margin:0;padding:0;box-sizing:border-box;font-family:Inter,sans-serif}
body{display:flex;height:100vh;background:#0f172a;color:#e5e7eb}
/* ===== SIDEBAR ===== */
.sidebar{width:260px;background:#020617;display:flex;flex-direction:column;border-right:1px solid #1f2937}
.brand{display:flex;align-items:center;gap:10px;padding:16px;border-bottom:1px solid #1f2937}
.brand svg{width:36px;height:36px}
.brand-name{font-size:18px;font-weight:600}
.new-chat{margin:12px;padding:12px;background:#111827;border-radius:8px;text-align:center;cursor:pointer}
.history{flex:1;padding:12px;font-size:13px;color:#9ca3af}
.sidebar-footer{border-top:1px solid #1f2937;padding:12px}
.sidebar-footer div{padding:10px;cursor:pointer;border-radius:6px}
.sidebar-footer div:hover{background:#111827}
/* ===== MAIN ===== */
.main{flex:1;display:flex;flex-direction:column}
.topbar{height:56px;display:flex;justify-content:space-between;align-items:center;padding:0 16px;border-bottom:1px solid #1f2937}
.language-select{background:#020617;color:#e5e7eb;border:1px solid #1f2937;padding:6px;border-radius:6px}
/* ===== CHAT ===== */
.chat{flex:1;padding:20px;overflow-y:auto;display:flex;flex-direction:column;gap:8px}
.message{max-width:70%;padding:12px;border-radius:10px}
.user{background:#2563eb;align-self:flex-end}
.bot{background:#111827}
/* ===== INPUT ===== */
.input-bar{display:flex;gap:10px;padding:16px;border-top:1px solid #1f2937}
.input-bar input{flex:1;padding:12px;background:#020617;border:1px solid #1f2937;border-radius:8px;color:#fff}
.input-bar button{padding:12px 16px;background:#2563eb;border:none;border-radius:8px;cursor:pointer}
</style>
</head>
<body>

<!-- SIDEBAR -->
<div class="sidebar">
  <div class="brand">
    <svg viewBox="0 0 64 64" fill="none">
      <path d="M32 4C20 4 10 14 10 26v12c0 6 4 10 10 10h2v8l8-8h6c12 0 22-10 22-22S44 4 32 4z" stroke="#38bdf8" stroke-width="3"/>
      <circle cx="24" cy="28" r="3" fill="#38bdf8"/>
      <circle cx="40" cy="28" r="3" fill="#38bdf8"/>
    </svg>
    <span class="brand-name">BotFusion AI</span>
  </div>
  <div class="new-chat" onclick="newChat()">+ New Chat</div>
  <div class="history" id="history">No chats yet</div>
  <div class="sidebar-footer">
    <div onclick="openSettings()">âš™ Settings</div>
    <div onclick="login()">ðŸ‘¤ Account</div>
  </div>
</div>

<!-- MAIN -->
<div class="main">
  <div class="topbar">
    <span>AI Chat</span>
    <select name="language" id="language">
  <option value="af">Afrikaans</option>
  <option value="sq">Albanian</option>
  <option value="am">Amharic</option>
  <option value="ar">Arabic</option>
  <option value="hy">Armenian</option>
  <option value="az">Azerbaijani</option>
  <option value="eu">Basque</option>
  <option value="be">Belarusian</option>
  <option value="bn">Bengali</option>
  <option value="bs">Bosnian</option>
  <option value="bg">Bulgarian</option>
  <option value="my">Burmese</option>
  <option value="ca">Catalan</option>
  <option value="ceb">Cebuano</option>
  <option value="zh">Chinese</option>
  <option value="co">Corsican</option>
  <option value="hr">Croatian</option>
  <option value="cs">Czech</option>
  <option value="da">Danish</option>
  <option value="nl">Dutch</option>
  <option value="en">English</option>
  <option value="eo">Esperanto</option>
  <option value="et">Estonian</option>
  <option value="fi">Finnish</option>
  <option value="fr">French</option>
  <option value="fy">Frisian</option>
  <option value="gl">Galician</option>
  <option value="ka">Georgian</option>
  <option value="de">German</option>
  <option value="el">Greek</option>
  <option value="gu">Gujarati</option>
  <option value="ht">Haitian Creole</option>
  <option value="ha">Hausa</option>
  <option value="haw">Hawaiian</option>
  <option value="he">Hebrew</option>
  <option value="hi">Hindi</option>
  <option value="hmn">Hmong</option>
  <option value="hu">Hungarian</option>
  <option value="is">Icelandic</option>
  <option value="ig">Igbo</option>
  <option value="id">Indonesian</option>
  <option value="ga">Irish</option>
  <option value="it">Italian</option>
  <option value="ja">Japanese</option>
  <option value="jw">Javanese</option>
  <option value="kn">Kannada</option>
  <option value="kk">Kazakh</option>
  <option value="km">Khmer</option>
  <option value="ko">Korean</option>
  <option value="ku">Kurdish</option>
  <option value="ky">Kyrgyz</option>
  <option value="lo">Lao</option>
  <option value="la">Latin</option>
  <option value="lv">Latvian</option>
  <option value="lt">Lithuanian</option>
  <option value="lb">Luxembourgish</option>
  <option value="mk">Macedonian</option>
  <option value="mg">Malagasy</option>
  <option value="ms">Malay</option>
  <option value="ml">Malayalam</option>
  <option value="mt">Maltese</option>
  <option value="mi">Maori</option>
  <option value="mr">Marathi</option>
  <option value="mn">Mongolian</option>
  <option value="ne">Nepali</option>
  <option value="no">Norwegian</option>
  <option value="or">Odia</option>
  <option value="ps">Pashto</option>
  <option value="fa">Persian</option>
  <option value="pl">Polish</option>
  <option value="pt">Portuguese</option>
  <option value="pa">Punjabi</option>
  <option value="ro">Romanian</option>
  <option value="ru">Russian</option>
  <option value="sm">Samoan</option>
  <option value="gd">Scots Gaelic</option>
  <option value="sr">Serbian</option>
  <option value="st">Sesotho</option>
  <option value="sn">Shona</option>
  <option value="sd">Sindhi</option>
  <option value="si">Sinhala</option>
  <option value="sk">Slovak</option>
  <option value="sl">Slovenian</option>
  <option value="so">Somali</option>
  <option value="es">Spanish</option>
  <option value="su">Sundanese</option>
  <option value="sw">Swahili</option>
  <option value="sv">Swedish</option>
  <option value="tl">Tagalog</option>
  <option value="ta">Tamil</option>
  <option value="te">Telugu</option>
  <option value="th">Thai</option>
  <option value="tr">Turkish</option>
  <option value="uk">Ukrainian</option>
  <option value="ur">Urdu</option>
  <option value="uz">Uzbek</option>
  <option value="vi">Vietnamese</option>
  <option value="cy">Welsh</option>
  <option value="xh">Xhosa</option>
  <option value="yi">Yiddish</option>
  <option value="yo">Yoruba</option>
  <option value="zu">Zulu</option>
    </select>
  </div>

  <div class="chat" id="chat"></div>

  <div class="input-bar">
    <input type="text" id="input" placeholder="Message BotFusion..." />
    <button onclick="sendMessage()">âž¤</button>
  </div>
</div>

<script>
const chat = document.getElementById("chat");
const input = document.getElementById("input");
const lang = document.getElementById("lang");

function addMessage(text, type){
  const div = document.createElement("div");
  div.className = "message " + type;
  div.innerText = text;
  chat.appendChild(div);
  chat.scrollTop = chat.scrollHeight;
}

function saveHistory(text){
  let history = JSON.parse(localStorage.getItem("botfusion"))||[];
  history.push(text);
  localStorage.setItem("botfusion",JSON.stringify(history));
  document.getElementById("history").innerText = history.slice(-5).join("\n");
}

function newChat(){
  chat.innerHTML="";
}

function sendMessage(){
  if(!input.value) return;
  addMessage(input.value,"user");
  saveHistory("You: "+input.value);
  const message=input.value;
  const language=lang.value;
  input.value="";
  fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message,language})})
  .then(r=>r.json())
  .then(d=>{
    addMessage(d.reply,"bot");
    saveHistory("Bot: "+d.reply);
  }).catch(()=>{addMessage("âš ï¸ Error connecting to server.","bot")});
}

function openSettings(){alert("Settings placeholder");}
function login(){alert("Login placeholder");}
window.onload=()=>{let h=JSON.parse(localStorage.getItem("botfusion"))||[];if(h.length) document.getElementById("history").innerText=h.slice(-5).join("\n");}
</script>

</body>
</html>
