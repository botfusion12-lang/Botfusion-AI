<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Botfusion AI</title>
<style>
    /* General */
    body { margin:0; padding:0; font-family:'Poppins', sans-serif; background:#121212; color:#fff; }
    .container { display:flex; flex-direction:column; align-items:center; padding:20px; }

    /* Header */
    .header { width:100%; display:flex; justify-content:space-between; align-items:center; padding:15px 20px; background:#1A1A1A; box-shadow:0 2px 5px rgba(0,0,0,0.6); }
    .logo { display:flex; align-items:center; gap:10px; }
    .logo img { height:36px; }
    .header h1 { font-size:24px; margin:0; }

    /* Icons */
    .icons { display:flex; gap:15px; }
    .icon-btn { background:none; border:none; cursor:pointer; color:#fff; font-size:20px; }

    /* Panels */
    .panel { position:absolute; top:70px; right:20px; width:260px; background:#1F1F1F; border-radius:10px; display:none; padding:15px; box-shadow:0 4px 15px rgba(0,0,0,0.7); z-index:100; }
    .panel header { font-weight:600; font-size:18px; margin-bottom:10px; }
    .panel .content { font-size:14px; }

    /* Chat area */
    .chat-card { width:100%; max-width:700px; background:#151515; border-radius:12px; padding:20px; margin-top:30px; box-shadow:0 6px 20px rgba(0,0,0,0.6); display:flex; flex-direction:column; }
    .messages { max-height:350px; overflow-y:auto; margin-bottom:10px; }
    .msg { padding:10px 14px; margin-bottom:8px; border-radius:8px; }
    .msg.user { background:#272727; align-self:flex-end; }
    .msg.bot { background:#1b1b1b; border:1px solid #2b2b2b; align-self:flex-start; }
    .typing { font-style:italic; color:#999; }

    /* Input */
    .input-row { display:flex; gap:10px; margin-top:auto; }
    #userInput { flex:1; padding:12px 14px; border-radius:8px; border:none; background:#0f0f0f; color:#fff; }
    #sendBtn { background:#7C4DFF; color:#fff; border:none; padding:10px 16px; border-radius:8px; cursor:pointer; }

    /* Buttons for actions */
    .actions { display:flex; gap:10px; margin-bottom:10px; }
    .actions button { flex:1; padding:8px; border:none; border-radius:8px; cursor:pointer; background:#7C4DFF; color:#fff; font-weight:600; }
</style>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js"></script>
</head>
<body>

<div class="header">
    <div class="logo">
        <img src="logo.svg" alt="Botfusion AI">
        <h1>Botfusion AI</h1>
    </div>
    <div class="icons">
        <button class="icon-btn" onclick="togglePanel('profilePanel')">üë§</button>
        <button class="icon-btn" onclick="togglePanel('settingsPanel')">‚öôÔ∏è</button>
    </div>
</div>

<!-- Panels -->
<div class="panel" id="profilePanel">
    <header>Profile</header>
    <div class="content">
        <p>You are not logged in</p>
        <button onclick="googleLogin()">Login with Google</button>
    </div>
</div>

<div class="panel" id="settingsPanel">
    <header>Settings</header>
    <div class="content">
        <p>Theme: <button onclick="alert('Theme switch placeholder')">Switch</button></p>
        <p>Language: <button onclick="alert('Language switch placeholder')">Switch</button></p>
    </div>
</div>

<!-- Chat Card -->
<div class="chat-card">
    <div class="actions">
        <button onclick="appendMsg('bot','Summarize clicked')">Summarize</button>
        <button onclick="appendMsg('bot','Analyze clicked')">Analyze</button>
        <button onclick="appendMsg('bot','Create Image clicked')">Create Image</button>
        <button onclick="appendMsg('bot','Make List clicked')">Make List</button>
    </div>
    <div class="messages" id="messages" aria-live="polite">
        <div class="msg bot">Hello! I'm Botfusion AI. Try asking me something.</div>
    </div>
    <div class="input-row">
        <input id="userInput" type="text" placeholder="Type your message..." onkeydown="if(event.key==='Enter') sendMessage()">
        <button id="sendBtn" onclick="sendMessage()">Send</button>
    </div>
</div>

<script>
  /* Firebase */
  const firebaseConfig = {
    apiKey: "AIzaSyDA62eN5MEjX9Z-gw6w9UuR8L-Ke_6J7eE",
  authDomain: "botfusion-ai-bd6d0.firebaseapp.com",
  projectId: "botfusion-ai-bd6d0",
  storageBucket: "botfusion-ai-bd6d0.firebasestorage.app",
  messagingSenderId: "730477136598",
  appId: "1:730477136598:web:c6b4e0d495744d12079777",
  measurementId: "G-53FTWNQB8X"
  };
  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  const provider = new firebase.auth.GoogleAuthProvider();

  function googleLogin() {
    auth.signInWithPopup(provider)
      .then((res) => {
        const user = res.user;
        document.querySelector("#profilePanel .content").innerHTML = `
          <p><b>Logged in</b></p>
          <p>Name: ${user.displayName}</p>
          <p>Email: ${user.email}</p>
          <img src="${user.photoURL}" width="70" style="border-radius:50%;margin-top:10px;">
          <br><br>
          <button onclick="logout()">Logout</button>
        `;
      })
      .catch(err => alert(err.message));
  }

  function logout() {
    auth.signOut().then(() => {
      document.querySelector("#profilePanel .content").innerHTML = `
        <p>You are not logged in</p>
        <button onclick="googleLogin()">Login with Google</button>
      `;
    });
  }

  /* Panel Toggle */
  function togglePanel(panelId) {
    const panel = document.getElementById(panelId);
    if(panel.style.display === "block"){
      panel.style.display = "none";
    } else {
      document.querySelectorAll(".panel").forEach(p => p.style.display="none");
      panel.style.display = "block";
    }
  }
  window.addEventListener("click", function(e){
    if(!e.target.closest(".panel") && !e.target.closest(".icon-btn")){
      document.querySelectorAll(".panel").forEach(p => p.style.display="none");
    }
  });

  /* Chat */
  const input = document.getElementById("userInput");
  const chatContainer = document.getElementById("messages");

  function appendMsg(sender, text){
    const msg = document.createElement("div");
    msg.className = 'msg ' + (sender==='user' ? 'user' : 'bot');
    msg.textContent = text;
    chatContainer.appendChild(msg);
    chatContainer.scrollTop = chatContainer.scrollHeight;
  }

  async function sendMessage(){
    const text = input.value.trim();
    if(!text) return;
    appendMsg('user', text);
    input.value = '';
    appendMsg('bot','...');
    const botPlaceholder = chatContainer.querySelector('.msg.bot:last-child');

    try {
      // Demo: Replace with your backend API call
      setTimeout(()=>{ botPlaceholder.textContent = "This is a demo response." }, 1000);
    } catch(err){
      botPlaceholder.textContent = "Error connecting to server.";
    }
  }
</script>

</body>
</html>
