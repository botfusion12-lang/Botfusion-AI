<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>BotFusion</title>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<style>
/* ================= RESET ================= */
*{box-sizing:border-box;margin:0;padding:0;font-family:system-ui,-apple-system,BlinkMacSystemFont,sans-serif}

/* ================= THEMES ================= */
:root{
  --bg:#1f1f1f;
  --card:#2b2b2b;
  --text:#ffffff;
  --muted:#bdbdbd;
  --accent:#4caf50;
}

[data-theme="light"]{
  --bg:#f5f5f5;
  --card:#ffffff;
  --text:#000000;
  --muted:#555;
  --accent:#4caf50;
}
[data-theme="blue"]{--accent:#2196f3}
[data-theme="purple"]{--accent:#9c27b0}
[data-theme="orange"]{--accent:#ff9800}
/* ================= THEMES ================= */

/* DEFAULT = DARK */
:root{
  --bg:#2a2a2a;
  --card:#1f1f1f;
  --text:#ffffff;
  --muted:#bdbdbd;
  --accent:#4caf50;
}

/* LIGHT */
[data-theme="light"]{
  --bg:#f4f4f4;
  --card:#ffffff;
  --text:#000000;
  --muted:#555555;
  --accent:#4caf50;
}

/* BLUE */
[data-theme="blue"]{
  --bg:#0d1b2a;
  --card:#1b263b;
  --text:#e0e1dd;
  --muted:#9aa3b2;
  --accent:#2196f3;
}

/* PURPLE */
[data-theme="purple"]{
  --bg:#1b1026;
  --card:#2a163f;
  --text:#f2e9ff;
  --muted:#c5b3e6;
  --accent:#9c27b0;
}

/* ORANGE */
[data-theme="orange"]{
  --bg:##FFA500;
  --card:#3a2314;
  --text:#fff3e0;
  --muted:#e0c2a2;
  --accent:#ff9800;
}
/* ================= LAYOUT ================= */
body{background:var(--bg);color:var(--text);height:100vh;overflow:hidden}

header{
  height:56px;
  background:#2a2a2a;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:0 16px;
}

header h1{font-size:20px}

.icon-btn{
  font-size:22px;
  background:none;
  border:none;
  color:white;
  cursor:pointer;
}

/* ================= SIDEBAR ================= */
#sidebar{
  position:fixed;
  top:0;
  left:-260px; /* FULLY HIDDEN */
  width:260px;
  height:100%;
  background:#1c1c1c;
  padding:16px;
  transition:0.3s ease;
  z-index:1000;
}
#sidebar.open{left:0}

#sidebar .close{
  font-size:24px;
  color:red;
  cursor:pointer;
  margin-bottom:20px;
}

#sidebar button{
  width:100%;
  padding:12px;
  margin-bottom:10px;
  border:none;
  border-radius:10px;
  background:#333;
  color:white;
  font-size:15px;
  cursor:pointer;
}

/* ================= MAIN ================= */
main{
  padding:16px;
  height:calc(100vh - 56px);
  overflow:auto;
}

.card{
  background:var(--card);
  padding:16px;
  border-radius:14px;
  margin-bottom:14px;
  cursor:pointer;
}

.card:hover{opacity:0.9}

.small{color:var(--muted);font-size:14px;margin-top:6px}

/* ================= CHAT ================= */
#chatBox{
  height:60vh;
  border:1px dashed var(--muted);
  padding:10px;
  border-radius:10px;
  overflow:auto;
  margin-bottom:10px;
}

.msg{margin-bottom:6px}
.user{color:var(--accent)}
.bot{color:#90caf9}

input,select{
  width:100%;
  padding:12px;
  border-radius:10px;
  border:none;
  margin-bottom:10px;
}

button.primary{
  background:var(--accent);
  border:none;
  color:white;
  padding:12px;
  border-radius:10px;
  width:100%;
  font-size:16px;
}

/* ================= HIDDEN ================= */
.hidden{display:none}
</style>
</head>

<body data-theme="dark">

<header>
  <button class="icon-btn" onclick="toggleSidebar()">‚ò∞</button>
  <h1>BotFusion</h1>
  <button class="icon-btn" onclick="goHome()">üè†</button>
</header>

<!-- SIDEBAR -->
<div id="sidebar">
  <div class="close" onclick="toggleSidebar()">‚úñ</div>
  <button onclick="showScreen('home')">Home</button>
  <button onclick="showScreen('chat')">Chat</button>
  <button onclick="showScreen('profile')">Profile</button>
  <button onclick="showScreen('settings')">Settings</button>
</div>

<main>
  <!-- HOME -->
  <div id="home">
    <h2>Welcome üëã</h2>
    <p class="small">What would you like to do?</p>

    <div class="card" onclick="showScreen('chat')">üí¨ Start chatting</div>
    <div class="card" onclick="showScreen('profile')">üë§ View profile</div>
    <div class="card" onclick="showScreen('settings')">‚öôÔ∏è Settings</div>

    <button class="primary" onclick="googleLogin()">üéÅ Sign in with Google</button>
    <button class="primary" style="margin-top:10px;background:#666" onclick="logout()">üì¥ Logout</button>

    <p class="small" style="text-align:center;margin-top:16px">BotFusion ‚Äî frontend + backend</p>
  </div>

  <!-- CHAT -->
  <div id="chat" class="hidden">
    <h2>Chat</h2>
    <div id="chatBox"></div>
    <input id="msgInput" placeholder="Type..." />
    <button class="primary" onclick="sendMsg()">Send</button>
  </div>

  <!-- PROFILE -->
  <div id="profile" class="hidden">
    <h2>Profile</h2>
    <p id="userInfo" class="small">Not logged in</p>
  </div>

  <!-- SETTINGS -->
  <div id="settings" class="hidden">
    <h2>Settings</h2>

    <label>Theme</label>
    <select onchange="setTheme(this.value)">
      <option value="dark">Dark</option>
      <option value="light">Light</option>
      <option value="blue">Blue</option>
      <option value="purple">Purple</option>
      <option value="orange">Orange</option>
    </select>

    <label>Language</label>
    <select onchange="setLang(this.value)" id="langSelect"></select>
  </div>
</main>

<script>
/* ================= FIREBASE ================= */
firebase.initializeApp({
  apiKey:"AIzaSyDA62eN5MEjX9Z-gw6w9UuR8L-Ke_6J7eE",
  authDomain:"botfusion-ai-bd6d0.firebaseapp.com",
  projectId:"botfusion-ai-bd6d0",
});
const auth=firebase.auth();
const db=firebase.firestore();

/* ================= SIDEBAR ================= */
function toggleSidebar(){
  document.getElementById("sidebar").classList.toggle("open");
}

/* ================= SCREENS ================= */
function showScreen(id){
  ["home","chat","profile","settings"].forEach(s=>{
    document.getElementById(s).classList.add("hidden");
  });
  document.getElementById(id).classList.remove("hidden");
  toggleSidebar();
}
function goHome(){showScreen("home")}

/* ================= CHAT ================= */
function sendMsg(){
  const i=document.getElementById("msgInput");
  if(!i.value)return;
  chatBox.innerHTML+=`<div class="msg user">You: ${i.value}</div>`;
  chatBox.innerHTML+=`<div class="msg bot">Bot: Hello from backend üëã</div>`;
  i.value="";
}

/* ================= AUTH ================= */
function googleLogin(){
  auth.signInWithPopup(new firebase.auth.GoogleAuthProvider());
}
function logout(){auth.signOut()}

auth.onAuthStateChanged(u=>{
  document.getElementById("userInfo").innerText=u?u.email:"Not logged in";
});

/* ================= THEMES ================= */
function setTheme(t){document.body.setAttribute("data-theme",t)}

/* ================= LANGUAGES ================= */
const langs=[...Array(100)].map((_,i)=>`Language ${i+1}`);
langs.forEach(l=>{
  langSelect.innerHTML+=`<option>${l}</option>`;
});
function setLang(l){alert("UI translated to "+l)}
</script>

</body>
</html>
